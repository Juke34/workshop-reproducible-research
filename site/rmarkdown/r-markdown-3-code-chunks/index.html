<!DOCTYPE html>
<html lang="en">
	<head>
		
		
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<meta name="author" content="Jacques Dainat et al.">
		<link rel="canonical" href="https://Juke34.github.io/workshop-reproducible-research/rmarkdown/r-markdown-3-code-chunks/">
		<link rel="shortcut icon" href="../../img/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<title>Code chunks - Bioinformatics Workshop on Tools for Reproducible Research</title>
		<link href="../../bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="../../css/font-awesome-5.12.2-all.min.css" rel="stylesheet">
		<link href="../../css/base.css" rel="stylesheet">
		<link rel="stylesheet" href="../../css/highlight-github.css">
		<script src="../../bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="../../js/highlight.pack.js"></script>
		
		<script>
			var base_url = '../..';
			var home_url = '../../usage';
			var is_outer_page = false;
			
			var pageToc = [
			];

		</script>
		<script src="../../js/base.js"></script> 
	</head>

	<body class="inner-page">
		

		<div class="container-fluid wm-page-content">
			<a name="_top" aria-hidden="true"></a>
			






<div class="row pt-2 pb-4">
	<div class="col-sm text-center text-sm-left">
		<a href="../r-markdown-2-the-basics/" class="btn btn-sm btn-outline-dark">
			<i class="fa fa-chevron-left" aria-hidden="true"></i>
			Previous
		</a>
		<a href="../r-markdown-2-the-basics/" class="btn btn-sm btn-link">
			The basics
		</a>
	</div>
	

	
	<div class="col-sm text-center text-sm-right">
		<a href="../r-markdown-4-the-yaml-header/" class="btn btn-sm btn-link">
			The YAML header
		</a>
		<a href="../r-markdown-4-the-yaml-header/" class="btn btn-sm btn-outline-dark">
			Next
			<i class="fa fa-chevron-right" aria-hidden="true"></i>
		</a>
	</div>
	
</div>

			

			<p>Enough about markdown, let's get to the fun part and include some code! Look at
the last code chunk in the template R Markdown document that you just created,
as an example:</p>
<pre><code>```{r pressure, echo = FALSE}
plot(pressure)
```
</code></pre>
<p>The R code is surrounded by: <code>```{r}</code> and <code>```</code>. The <code>r</code> indicates that the
code chunk contains R code (it is possible to add code chunks using other
languages, <em>e.g.</em> Python). After that comes an optional chunk name, <code>pressure</code>
in this case (this can be used to reference the code chunk as well as alleviate
debugging). Last comes chunk options, separated by commas (in this case there is
only one option: <code>echo = FALSE</code>).</p>
<blockquote>
<p><strong>Note</strong> <br>
The code chunk name pressure has nothing to do with the code <code>plot(pressure)</code>. 
In the latter case, pressure is a default R dataframe that is used in examples. 
The chunk name happened to be set to the string pressure as well, but could 
just as well have been called something else, <em>e.g.</em> "Plot pressure data".</p>
</blockquote>
<p>Below are listed some useful chunk options related to evaluating and displaying
code chunks in the final file:</p>
<table class="table table-hover table-condensed" border=1; style="width:600px; margin-left:auto; margin-right:auto;">
    <thead style="background-color:#DAE7F1">
        <tr>
            <td style="padding:5px; width:130px; text-align:center;"> <font size="3"><b> Chunk option </b> </td>
            <td style="padding:5px"> <font size="3"><b> Effect </b> </td>
        </tr>
    </thead>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `echo = FALSE` </td>
        <td style="padding:5px"> <font size="3"> Prevents code, but not the results, from appearing in the finished file. This is a useful way to embed figures. </td>
    </tr>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `include = FALSE` </td>
        <td style="padding:5px"> <font size="3">  Prevents both code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks. </td>
    </tr>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `eval = FALSE` </td>
        <td style="padding:5px"> <font size="3">  The code in the code chunk will not be run (but the code can be displayed in the finished file). Since the code is not evaluated, no results can be shown. </td>
    </tr>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `results = "hide"` </td>
        <td style="padding:5px"> <font size="3"> Evaluate (and display) the code, but don't show the results. </td>
    </tr>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `message = FALSE` </td>
        <td style="padding:5px"> <font size="3"> Prevents messages that are generated by code from appearing in the finished file. </td>
    </tr>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center"> <font size="3"> `warning = FALSE` </td>
        <td style="padding:5px"> <font size="3"> Prevents warnings that are generated by code from appearing in the finished file. </td>
    </tr>
</table>

<ul>
<li>Go back to your template R Markdown document in RStudio and locate the <code>cars</code>
  code chunk.</li>
<li>Add the option <code>echo = FALSE</code>:</li>
</ul>
<pre><code>```{r cars, echo = FALSE}
summary(cars)
```
</code></pre>
<ul>
<li>How do you think this will affect the rendered file? Press <em>Knit</em> and check if
  you were right.</li>
<li>Remove the <code>echo = FALSE</code> option and add <code>eval = FALSE</code> instead:</li>
</ul>
<pre><code>```{r cars, eval = FALSE}
summary(cars)
```
</code></pre>
<ul>
<li>How do you think this will affect the rendered file? Press <em>Knit</em> and check if
  you were right.</li>
<li>Remove the <code>eval = FALSE</code> option and add <code>include = FALSE</code> instead:</li>
</ul>
<pre><code>```{r cars, include = FALSE}
summary(cars)
```
</code></pre>
<p>There are also some chunk options related to plots:</p>
<table class="table table-hover table-condensed" border=1; style="width:725px; margin-left:auto; margin-right:auto;">
    <thead style="background-color:#DAE7F1">
        <tr>
            <td style="padding:5px; width:300px; text-align:center;"> <font size="3"><b> Chunk option </b> </td>
            <td style="padding:5px"> <font size="3"><b> Effect </b> </td>
        </tr>
    </thead>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `fig.height = 9, fig.width = 6` </td>
        <td style="padding:5px"> <font size="3"> Set plot dimensions to 9x6 inches (the default is 7x7.) </td>
    </tr>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `out.height = "10cm", out.width = "8cm"` </td>
        <td style="padding:5px"> <font size="3"> Scale plot to 10x8 cm in the final output file. </td>
    </tr>
    <tr>
        <td style="padding:5px; vertical-align:middle; text-align:center;"> <font size="3"> `fig.cap = "This is a plot."` </td>
        <td style="padding:5px"> <font size="3"> Add a figure caption. </td>
    </tr>
</table>

<ul>
<li>Go back to your template R Markdown document in RStudio and locate the
  <code>pressure</code> code chunk.</li>
<li>Add the <code>fig.width</code> and <code>fig.height</code> options as below:</li>
</ul>
<pre><code>```{r pressure, echo = FALSE, fig.width = 6, fig.height = 4}
plot(pressure)
```
</code></pre>
<ul>
<li>Press <em>Knit</em> and look at the output. Can you see any differences?</li>
<li>Now add a whole new code chunk to the end of the document. Give it the name
  <code>pressure 2</code> (code chunks have to have unique names, or no
  name). Add the <code>fig.width</code> and <code>out.width</code> options like this:</li>
</ul>
<pre><code>```{r pressure 2, echo = FALSE, fig.width = 9, out.width = &quot;560px&quot;}
plot(pressure)
```
</code></pre>
<ul>
<li>Press <em>Knit</em> and look at the output. Notice the difference between the two
  plots? In the second chunk we have first plotted a figure that is a fair bit
  larger (9 inches wide) than that in the first chunk. Next we have down-sized
  it in the final output, using the <code>out.width</code> option (where we need to use
  a size metric recognized by the output format, in this case "560px" which
  works for HTML).</li>
</ul>
<p>Have you noticed the first chunk?</p>
<pre><code>```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
</code></pre>
<p>In this way we can set global chunk options, <em>i.e.</em> defaults for all chunks. In
this example, <code>echo</code> will always be set to <code>TRUE</code>, unless otherwise specified
in individual chunks.</p>
<blockquote>
<p><strong>Tip</strong> <br>
For more chunk options, have a look at page 2-3 of this <a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">reference</a>.</p>
</blockquote>
<p>It is also possible to create different types of interactive plots using
R Markdown. You can see some examples of this <a href="http://www.htmlwidgets.org/showcase_networkD3.html">here</a>.
If you want to try it out you can add the following code chunk to your document:</p>
<pre><code>```{r}
library(networkD3)
data(MisLinks, MisNodes)
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = &quot;source&quot;,
             Target = &quot;target&quot;, Value = &quot;value&quot;, NodeID = &quot;name&quot;,
             Group = &quot;group&quot;, opacity = 0.4)
```
</code></pre>
<blockquote>
<p><strong>Quick recap</strong> <br>
In this section you learned how to include code chunks and how to use chunk
options to control how the output (code, results and figures) is displayed.</p>
</blockquote>

			<br>
			






<div class="row pt-2 pb-4">
	<div class="col-sm text-center text-sm-left">
		<a href="../r-markdown-2-the-basics/" class="btn btn-sm btn-outline-dark">
			<i class="fa fa-chevron-left" aria-hidden="true"></i>
			Previous
		</a>
		<a href="../r-markdown-2-the-basics/" class="btn btn-sm btn-link">
			The basics
		</a>
	</div>
	

	
	<div class="col-sm text-center text-sm-right">
		<a href="../r-markdown-4-the-yaml-header/" class="btn btn-sm btn-link">
			The YAML header
		</a>
		<a href="../r-markdown-4-the-yaml-header/" class="btn btn-sm btn-outline-dark">
			Next
			<i class="fa fa-chevron-right" aria-hidden="true"></i>
		</a>
	</div>
	
</div>

			<br>
		</div>

		<footer class="container-fluid wm-page-content text-center small">
			<p>
			<a href="https://github.com/Juke34/workshop-reproducible-research/edit/master/docs/rmarkdown/r-markdown-3-code-chunks.md" target="_blank">Edit on workshop-reproducible-research</a>
			</p>
			<details>
				<summary>
					Documentation built with <a href="http://www.mkdocs.org/" target="_blank">MkDocs</a> using  <a href="https://github.com/Siphalor/mkdocs-custommill" target="_blank">CustomMill</a>.
				</summary>
				<h6 class="mt-2">Additional Licenses</h6>
				<ul><li>
						CustomMill is based on the <a href="https://github.com/gristlabs/mkdocs-windmill" target="_blank">Windmill</a> theme by Grist Labs, licensed under the <a href="https://github.com/gristlabs/mkdocs-windmill/blob/master/LICENSE" target="_blank">MIT License</a>
					</li>
					<li>
						CustomMill includes <a href="https://getbootstrap.com" target="_blank">Bootstrap</a> version 5.1.3. This is available under the <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">MIT License</a>.
					</li>
					<li>
						Syntax highlighting is implemented via <a href="https://highlightjs.org" target="_blank">highlight.js</a> licensed under the BSD 3-Clause License and the included github styling made by Vasily Polovnyov.
					</li>
					<li>
						Icons on this site are from <a href="https://fontawesome.com/" target="_blank">Font Awesome</a> which is licensed under the <a href="https://fontawesome.com/license/free" target="_blank">Font Awesome Free License</a>.
					</li></ul>
				<p>Built at 2023-02-10 16:41:13 UTC</p>
			</details>
		</footer>

		
	</body>
</html>